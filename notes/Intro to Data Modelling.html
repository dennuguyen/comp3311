<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<title>Data modelling and OO/ER data models</title>
<link href="Intro%20to%20Data%20Modelling_files/notes.css" rel="stylesheet" type="text/css">
<script src="Intro%20to%20Data%20Modelling_files/latest.js" async=""></script>
<script src="Intro%20to%20Data%20Modelling_files/jquery.min.js"></script><script type="text/javascript" async="" src="Intro%20to%20Data%20Modelling_files/MathJax.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style>
<link href="Intro%20to%20Data%20Modelling_files/prism.css" rel="stylesheet">
<script src="Intro%20to%20Data%20Modelling_files/sg.js"></script>
<style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body><div id="MathJax_Message" style="display: none;"></div>
<div class="heading">Data modelling and OO/ER data models</div><p></p><ul class="indexUl" style="font-size: 0.7em;"><li class="i"> <a href="#s1">Data Modelling</a>
</li><li class="i"> <a href="#s2">Data Modelling</a>
</li><li class="i"> <a href="#s5">Data Models</a>
</li><li class="i"> <a href="#s6">Object-based vs. Record-based</a>
</li><li class="i"> <a href="#s8"> Database Design</a>
</li><li class="i"> <a href="#s9">Some Design Ideas</a>
</li><li class="i"> <a href="#s10">Case Study: Banking System</a>
</li><li class="i"> <a href="#s11">Correctness of Designs</a>
</li><li class="i"> <a href="#s13"> Object-Oriented Data Modelling</a>
</li><li class="i"> <a href="#s14"> Object-oriented Data Modelling</a>
</li><li class="i"> <a href="#s16"> Object Definition Language (ODL)</a>
</li><li class="i"> <a href="#s17">ODL Definitions</a>
</li><li class="i"> <a href="#s18">Classes</a>
</li><li class="i"> <a href="#s19">Attributes</a>
</li><li class="i"> <a href="#s20">ODL Types</a>
</li><li class="i"> <a href="#s25">Relationships</a>
</li><li class="i"> <a href="#s29">Relationship Multiplicity</a>
</li><li class="i"> <a href="#s31">ODL Model for Bank</a>
</li><li class="i"> <a href="#s37"> Entity-Relationship (ER) Model</a>
</li><li class="i"> <a href="#s38"> Entity-Relationship Data Modelling</a>
</li><li class="i"> <a href="#s42"> Entity-Relationship (ER) Diagrams</a>
</li><li class="i"> <a href="#s45">Attributes</a>
</li><li class="i"> <a href="#s49">Entity Sets</a>
</li><li class="i"> <a href="#s50">Keys</a>
</li><li class="i"> <a href="#s57">Relationship Sets</a>
</li><li class="i"> <a href="#s67">Weak Entity Sets</a>
</li><li class="i"> <a href="#s71">Subclasses and Inheritance</a>
</li><li class="i"> <a href="#s74">Design Using the ER Model</a>
</li><li class="i"> <a href="#s78">ER Model for Bank</a>
</li><li class="i"> <a href="#s84">Limitations of ER Model</a>
</li><li class="i"> <a href="#s85">Summary</a>
</li></ul><hr>
<div id="s1">
<div class="section">&#8750; Data Modelling</div>
<p>
</p></div>
<hr>
<div id="s2">
<div class="heading">Data Modelling</div>
<p>
<font color="#0000BB">Data modelling</font>: an important early stage of database application development <small>(aka "database engineering")</small>.
</p><p>
</p><ol>
<li> requirements analysis
	&nbsp; <small>(identify data and operations)</small>
</li><li> <font color="#0000EE"><b>data modelling</b></font>
	&nbsp; <small>(high-level, abstract)</small>
</li><li> database schema design
	&nbsp; <small>(detailed, relational/tables)</small>
</li><li> database physical design
	&nbsp; <small>(based on expected workload)</small>
</li><li> database implementation
	&nbsp; <small>(create instance of schema)</small>
</li><li> build operations/interface
	&nbsp; <small>(SQL, stored procedures, GUI)</small>
</li><li> performance tuning
	&nbsp; <small>(physical re-design)</small>
</li><li> schema evolution
	&nbsp; <small>(logical schema re-design)</small>
</li></ol>
</div>
<hr>
<div id="s3">
<div class="heading">Data Modelling <span style="font-size:67%">(cont)</span></div>
<p>
Aim of data modelling:
</p><ul>
<li> describe what <font color="#0000BB">information</font> is contained in the database <br>
	<small>(e.g. entities: students, courses, accounts, branches, patients, ...)</small>
</li><li> describe <font color="#0000BB">relationships</font> between data items <br>
	<small>(e.g. John is enrolled in COMP3311, Paul's account is held at Coogee)</small>
</li><li> describe <font color="#0000BB">constraints</font> on data <br>
	<small>(e.g. 7-digit IDs, students can enrol in no more than 36UC per semester)</small>
</li></ul>
<p>
Data modelling is analogous to the design phase of
software engineering, but deals only with data structures.
</p></div>
<hr>
<div id="s4">
<div class="heading">Data Modelling <span style="font-size:67%">(cont)</span></div>
<p>
Inputs to data modelling:
</p><ul>
<li> enterprise to be modelled, user requirements
</li></ul>
Outputs from data modelling:
<ul>
<li> (semi) formal description of the database structure
</li></ul>
Many languages/methodologies have been developed to assist, e.g.
<ul>
<li> entity-relationship (ER) diagrams
</li><li> ODL = object design language
</li><li> UML = unified modelling language
</li></ul>
</div>
<hr>
<div id="s5">
<div class="heading">Data Models</div>
<p>
<font color="#0000BB">Data models</font> are either:
</p><ul>
<li> <font color="#0000BB">logical models</font>
	&nbsp; <small>... deal with conceptual modelling of information</small>
</li><li> <font color="#0000BB">physical models</font>
	&nbsp; <small>... deal with physical layout of data in storage</small>
</li></ul>
Two main groups of logical data models:
<ul>
<li> <font color="#0000BB">object-based models</font>
<ul>
<li> e.g. entity-relationship, object-oriented, semantic, ...
</li></ul>
</li><li> <font color="#0000BB">record based models</font>
<ul>
<li> e.g. relational, network, hierachical, ...
</li></ul>
</li></ul>
</div>
<hr>
<div id="s6">
<div class="heading">Object-based vs. Record-based</div>
<p>
Object-based data models
</p><ul>
<li> treat database as a collection of entities of various kinds
</li><li> provide very flexible/natural data structuring facilities
</li><li> may also allow description of code for actions on objects
</li></ul>
Record-based data models
<ul>
<li> treat database as a collection of fixed-size records
</li><li> less flexible data structures than with object-based models
</li><li> closer to physical level so easier to implement efficiently
</li></ul>
</div>
<hr>
<div id="s7">
<div class="heading">Object-based vs. Record-based <span style="font-size:67%">(cont)</span></div>
<p>
Formal mappings exist between the different kinds of models.
</p><p>
A useful strategy:
</p><ul>
<li> design in an object-based model
	&nbsp; <small>(for clarity)</small>
</li><li> then convert to a record-based model
	&nbsp; <small>(for efficiency)</small>
</li></ul>
We adopt this (very common) strategy in this course.
</div>
<hr>
<div id="s8">
<div class="heading"> Database Design</div>
<p>
The initial elements of the database design process:
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/process.png]" src="Intro%20to%20Data%20Modelling_files/process.png">
</div><p>
</p></div>
<hr>
<div id="s9">
<div class="heading">Some Design Ideas</div>
<p>
Consider the following while doing data modelling:
</p><ul>
<li> ought to establish all requirements before designing
</li><li> designs evolve as we consider more aspects of the problem
</li><li> most designs involve various kinds (classes) of people
</li><li> keywords in requirements give clues for data/relationships <br>
        <small>(simplistic rule-of-thumb: nouns suggest data, verbs suggest rela
tionships)</small>
</li><li> don't confuse operations with relationships <br>
        <small>(operation: he <b>buys</b> a book; relationship: the book <b>is o
wned</b> by him)</small>
</li><li> consider all potential scenarios, not just actual data <small>(if given)</small>
</li></ul>
</div>
<hr>
<div id="s10">
<div class="heading">Case Study: Banking System</div>
<p>
Consider the database system for a savings/loan bank ...
</p><p>
What kind of information does it need to maintain?
</p><ul>
<li> e.g. customers, accounts, branches, staff, transactions, ...
</li></ul>
How are all of these data items related?
<ul>
<li> e.g. customers hold accounts at specific branches, ...
</li></ul>
We illustrate data models by:
<ul>
<li> describing, in abstract terms, the capabilities they offer
</li><li> showing how they could be used to model this application
</li></ul>
</div>
<hr>
<div id="s11">
<div class="heading">Correctness of Designs</div>
<p>
In general, there is no single "best" design for a given application.
</p><p>
Also, limitations of modelling framework may force compromises.
</p><p>
However, we may describe a proposed design as "inadequate" if it:
</p><ul>
<li> omits some information that is supposed to be modelled
	<br> <small>(e.g. no customer name or account balance)</small>
</li><li> contains redundant information
	&nbsp;<small>(but may be unavoidable)</small>
	<br> <small>(e.g. customer name stored in both <large><code>Customer</code></large> and <large><code>Account</code></large>)</small>
</li><li> leads to an inefficient implementation
	<br> <small>(e.g. required to traverse large amount of data for most common operation)</small>
</li><li> violates syntactic or semantic rules of data model
	<br> <small>(e.g. in ER, line connecting two entities)</small>
</li></ul>
</div>
<hr>
<div id="s12">
<div class="heading">Correctness of Designs <span style="font-size:67%">(cont)</span></div>
<p>
Initial requirements statements are typically vague
</p><ul>
<li> elicit more detailed requirements before design
</li><li> ask for clarification during design
</li></ul>
Most important aspects of design documents:
<ul>
<li> completeness
	&nbsp; <small>(all assumptions are explicit)</small>
</li><li> consistency
	&nbsp; <small>(no contradictory statements)</small>
</li></ul>
</div>
<hr>
<div id="s13">
<div class="section">&#8750;  Object-Oriented Data Modelling</div>
<p>
</p></div>
<hr>
<div id="s14">
<div class="heading"> Object-oriented Data Modelling</div>
<p>
The world is viewed as a collection of inter-related <font color="#0000BB">objects</font>.
</p><p>
Examples:
	&nbsp; a person,
	&nbsp; a car,
	&nbsp; a bank account, ...
</p><p>
Each object is described by:
</p><ul>
<li> a unique object identifier (OID) <small>(to distinguish it from other obejcts)</small>
</li><li> a collection of attributes that model "properties of interest"
</li><li> operations (<font color="#0000BB">methods</font>) that can be performed on the object
</li></ul>
</div>
<hr>
<div id="s15">
<div class="heading"> Object-oriented Data Modelling <span style="font-size:67%">(cont)</span></div>
<p>
A <font color="#0000BB">class</font> is a set of objects with similar properties and methods.
</p><p>
Examples:
	&nbsp; all students <small>(at UNSW)</small>,
	&nbsp; all cars <small>(in Australia)</small>, ...
</p><p>
All student objects have the same data and operations,
</p><p>
e.g. <large><code>student.name</code></large>, &nbsp; <large><code>student.graduates(2003)</code></large>
</p><p>
An alternative view of classes
</p><ul>
<li> a template for generating objects of a certain kind
</li></ul>
</div>
<hr>
<div id="s16">
<div class="heading"> Object Definition Language (ODL)</div>
<p>
<font color="#0000BB">ODL</font> is a proposed standard for object-oriented data modelling:
</p><ul>
<li> developed by Object Data Management Group (ODMG)
</li><li> an extension of the Interface Definition Language (IDL)
</li><li> IDL defined in CORBA <small>(model for distributed object systems)</small>
</li></ul>
For object-oriented database management systems:
<ul>
<li> ODL is the proposed standard data definition language
</li><li> OQL (Object Query Language) is the proposed standard query language
</li></ul>
</div>
<hr>
<div id="s17">
<div class="heading">ODL Definitions</div>
<p>
An ODL definition consists of a collection of classes.
</p><p>
ODL describes classes using three kinds of properties:
</p><ul>
<li> <font color="#0000BB">attributes</font> - data values associated with objects
</li><li> <font color="#0000BB">relationships</font> - connections between objects
</li><li> <font color="#0000BB">methods</font> - actions on objects
</li></ul>
Since we are concerned with <i>data</i> modelling here, we ignore methods.
</div>
<hr>
<div id="s18">
<div class="heading">Classes</div>
<p>
Class declarations have the following syntax:
</p><p></p><pre>interface <i>ClassName</i> : <i>ParentClass</i> { <i>List of Properties</i> }
</pre><p>
Example:
</p><p></p><pre>interface Person {
	attribute string  name;
	attribute integer height;
	attribute Enum Gender gender;
	attribute Struct Date birthday;
};

interface Employee : Person {
	attribute float   salary;
	relationship Company WorksFor
	     inverse Company::Employs;
};
</pre><p>
</p></div>
<hr>
<div id="s19">
<div class="heading">Attributes</div>
<p>
<font color="#0000BB">Attributes</font> describe the data values associated with an object. 
</p><p>
Each attribute is defined by a <font color="#0000BB">type</font> and a <font color="#0000BB">name</font>.
</p><p>
ODL defines a variety of atomic, user-defined, and structured data types.
</p><p>
Attributes can have any type <b>except</b> types involving class types.
</p><p>
Names have global scope, and are used in context of object (e.g. <large><code>p.name</code></large>).
</p><p>
Attributes are inherited by sub-classes.
</p></div>
<hr>
<div id="s20">
<div class="heading">ODL Types</div>
<p>
Atomic built-in data types:
</p><ul>
<li> integer, float, character, string, boolean
</li></ul>
Atomic user-defined data types:
<ul>
<li> enumerated types &nbsp; (cf. C's <large><code>enum</code></large>)
</li></ul>
Examples:
<p></p><pre>Enum Gender   {male, female}
Enum AcctType {savings, cheque, credit}
Enum Colour   {red, orange, yellow, green, blue}
</pre><p>
</p></div>
<hr>
<div id="s21">
<div class="heading">ODL Types <span style="font-size:67%">(cont)</span></div>
<p>
Structured data types are built using a set of type constructors:
</p><p>
</p><p><table cellpadding="6" border="0">
<tbody><tr valign="top">
  <td><nobr> <large><code>Set&lt;</code></large><i>T</i><large><code>&gt;</code></large> </nobr></td>
  <td></td><td> unordered collections of distinct elements of type <i>T</i> </td>
</tr>
<tr valign="top">
  <td><nobr> <large><code>Bag&lt;</code></large><i>T</i><large><code>&gt;</code></large> </nobr></td>
  <td></td><td> unordered collections of elements of type <i>T</i> </td>
</tr>
<tr valign="top">
  <td><nobr> <large><code>List&lt;</code></large><i>T</i><large><code>&gt;</code></large> </nobr></td>
  <td></td><td> sequences of elements of type <i>T</i> </td>
</tr>
<tr valign="top">
  <td><nobr> <large><code>Array&lt;</code></large><i>T,i</i><large><code>&gt;</code></large> </nobr></td>
  <td></td><td> fixed-length vectors of <i>i</i> elements of type <i>T</i> </td>
</tr>
</tbody></table></p><p>
</p><p>
The base types <i>T</i>'s can be arbitrary types, including class types.
</p><p>
A structured type for an attribute may not contain any class types.
</p><p>
These structured types are ODL's <font color="#0000BB">collection types</font>
	&nbsp; <small>(important for relationships)</small>.
</p></div>
<hr>
<div id="s22">
<div class="heading">ODL Types <span style="font-size:67%">(cont)</span></div>
<p>
Differences between Sets, Bags, Lists:
</p><p>
<table cellpadding="4" border="0">
<tbody><tr valign="top">
  <td><nobr>&nbsp;</nobr></td>
  <td></td><td> <small>{1,2,3}={1,2,3}</small> </td>
  <td></td><td> <small>{1,2,3}={3,2,1}</small> </td>
  <td></td><td> <small>{1,1,2}={1,2,1}</small> </td>
  <td></td><td> <small>{1,1,2}={1,2}</small> </td>
</tr>
<tr valign="top">
  <td><nobr><b>Set</b></nobr></td>
  <td></td><td>Yes</td>
  <td></td><td>Yes</td>
  <td></td><td>Yes</td>
  <td></td><td>Yes</td>
</tr>
<tr valign="top">
  <td><nobr><b>Bag</b></nobr></td>
  <td></td><td>Yes</td>
  <td></td><td>Yes</td>
  <td></td><td>Yes</td>
  <td></td><td>No</td>
</tr>
<tr valign="top">
  <td><nobr><b>List</b></nobr></td>
  <td></td><td>Yes</td>
  <td></td><td>No</td>
  <td></td><td>No</td>
  <td></td><td>No</td>
</tr>
</tbody></table>
</p><p>
Arrays and Lists are similar &nbsp; <small>(e.g. could view Array as fixed-size List)</small>
</p></div>
<hr>
<div id="s23">
<div class="heading">ODL Types <span style="font-size:67%">(cont)</span></div>
<p>
Examples of structured type definitions:
</p><p></p><pre><span class="comment">// Can be used as types for attributes</span>

List&lt;real&gt;
Array&lt;string, 20&gt;
Set&lt;integer&gt;
Bag&lt;Enum Colour&gt;
List&lt;Array&lt;Set&lt;integer&gt;, 10&gt;&gt;&gt;

<span class="comment">// Cannot be used as types for attributes</span>

List&lt;People&gt;
Set&lt;Company&gt;
List&lt;Set&lt;People&gt;&gt;&gt;
</pre><p>
</p></div>
<hr>
<div id="s24">
<div class="heading">ODL Types <span style="font-size:67%">(cont)</span></div>
<p>
One other structured data type builds tuples &nbsp; (cf. C's <large><code>struct</code></large>).
</p><p></p><pre>Struct <i>Name</i> {
  <i>Type<sub>1</sub> FieldName<sub>1</sub></i>,
  <i>Type<sub>2</sub> FieldName<sub>2</sub></i>,
  ...
  <i>Type<sub>n</sub> FieldName<sub>n</sub></i>,
}
</pre><p>
Examples:
</p><p></p><pre>Struct Date {integer day, integer month, integer year}
Struct Name {string family, string given}
Struct Address {integer number, string street, ...}
</pre><p>
</p></div>
<hr>
<div id="s25">
<div class="heading">Relationships</div>
<p>
<font color="#0000BB">Relationships</font> describe connections between objects (classes).
</p><p>
A relationship is defined in a class <i>C</i> by:
</p><ul>
<li> naming the class <i>D</i> to which it is related
</li><li> describing the kind of relationship between <i>C</i> and <i>D</i> &nbsp; <small>(details to follow)</small>
</li><li> giving a name to the relationship
</li><li> specifying the inverse relationship (defined in <i>D</i>)
</li></ul>
Syntax for relationship declarations:
<p></p><pre>relationship <i>Collection(D)</i> <i>RelName</i> inverse <i>D</i>::<i>InverseRelName</i>
</pre><p>
</p></div>
<hr>
<div id="s26">
<div class="heading">Relationships <span style="font-size:67%">(cont)</span></div>
<p>
<b>Example:</b> <br>
- employees work in a company; may work on many projects <br>
- each project requires several employees to get it completed
</p><p></p><pre>interface Employee { ...
  relationship Company WorksFor;
  relationship Set&lt;Project&gt; WorksOn;
};
interface Company { ...
  relationship Set&lt;Employee&gt; Employs;
};
interface Project { ...
  relationship Set&lt;Employee&gt; Involves;
};
</pre><p>
</p></div>
<hr>
<div id="s27">
<div class="heading">Relationships <span style="font-size:67%">(cont)</span></div>
<p>
Example (with inverses included):
</p><p></p><pre>interface Employee { ...
  relationship Company WorksFor
    <font color="#0000BB">inverse Company::Employs;</font>
  relationship Set&lt;Project&gt; WorksOn
    <font color="#0000BB">inverse Project::Involves;</font>
};
interface Company { ...
  relationship Set&lt;Employee&gt; Employs
    <font color="#0000BB">inverse Employee::WorksFor;</font>
};
interface Project { ...
  relationship Set&lt;Employee&gt; Involves
    <font color="#0000BB">inverse Employee::WorksOn;</font>
};
</pre><p>
</p></div>
<hr>
<div id="s28">
<div class="heading">Relationships <span style="font-size:67%">(cont)</span></div>
<p>
Example (family trees):
</p><p></p><pre>interface Person {
  attribute string name;
  attribute Date   birthday;
  ...
  relationship Person FatherIs
    inverse Person::FatherOf;
  relationship Set&lt;Person&gt; FatherOf
    inverse Person::FatherIs;
  ...
  relationship Set&lt;Person&gt; Children
    inverse Person::BiologicalParent;
  relationship Array&lt;Person,2&gt; BiologicalParents
    inverse Person::Children;
  ...
  relationship Set&lt;Person&gt; Raised
    inverse Person::RaisedBy;
  relationship Set&lt;Person&gt; RaisedBy
    inverse Person::Raised;
  ...
  relationship Person BestFriend
    inverse Person::BestFriend;
};
</pre><p>
Notes:
</p><ul>
<li> an object in class <i>C</i> can be related other objects in class <i>C</i>
</li><li> relationships have different <font color="#0000BB">multiplicities</font>
</li></ul>
</div>
<hr>
<div id="s29">
<div class="heading">Relationship Multiplicity</div>
<p>
An important property of relationships:
</p><ul>
<li> how many objects is a given object <i>Obj</i> related to under relationship <i>R</i> ?
</li></ul>
Possibilities:
<ul>
<li> related to exactly one other &nbsp; <small>(e.g. <large><code>FatherIs</code></large>)</small>
</li><li> related to exactly <i>n</i> other &nbsp; <small>(e.g. <large><code>BiologicalParents</code></large>)</small>
</li><li> related to many others &nbsp; <small>(e.g. <large><code>Children</code></large>)</small>
</li></ul>
Similarly for <i>R</i>'s inverse relationship <i>R<sup>-1</sup></i>.
</div>
<hr>
<div id="s30">
<div class="heading">Relationship Multiplicity <span style="font-size:67%">(cont)</span></div>
<p>
Consider classes <i>C</i>, <i>D</i>, and relationships <i>R</i>, <i>R<sup>-1</sup></i> between them.
</p><p>
The most common <font color="#0000BB">relationship multiplicities</font>:
</p><p>
</p><div class="center">
<p><table cellpadding="6" border="0">
<tbody><tr valign="top">
  <td><nobr><font color="#0000BB">many-to-many</font></nobr></td>
  <td></td><td><i>C &#8594; R &#8594; D</i> &nbsp; is a set of objects <br>
	<i>D &#8594; R<sup>-1</sup> &#8594; C</i> &nbsp; is a set of objects
  </td>
</tr>
<tr valign="top">
  <td><nobr><font color="#0000BB">many-to-one</font></nobr></td>
  <td></td><td><i>C &#8594; R &#8594; D</i> &nbsp; is a single object <br>
	<i>D &#8594; R<sup>-1</sup> &#8594; C</i> &nbsp; is a set of objects
  </td>
</tr>
<tr valign="top">
  <td><nobr><font color="#0000BB">one-to-one</font></nobr></td>
  <td></td><td><i>C &#8594; R &#8594; D</i> &nbsp; is a single object <br>
	<i>D &#8594; R<sup>-1</sup> &#8594; C</i> &nbsp; is a single object
  </td>
</tr>
</tbody></table></p><p>
</p></div>
</div>
<hr>
<div id="s31">
<div class="heading">ODL Model for Bank</div>
<p>
Kinds of objects:
</p><ul>
<li> name, address, date, ...
</li><li> customer, account, branch, transaction, ...
</li></ul>
Some we can model via user-defined types:
<p></p><pre>Struct Name { string family, string given };
Struct Address {
  integer number;
  string  street;
  string  suburb;
  integer postcode;
};
Enum Activity { deposit, withdrawal };
Enum AcctType { savings, cheque, credit }; 
</pre><p>
</p></div>
<hr>
<div id="s32">
<div class="heading">ODL Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Modelling people:
</p><p></p><pre>interface Person {
  attribute Struct Name name;
  attribute Struct Address address;
};

interface Employee : Person {
  attribute int employeeNo;
  attribute float salary;
  relationship Branch WorskAt
    inverse Branch::Staff;
};

interface Manager : Employee {
  relationship Branch Manages
    inverse Branch::ManagedBy;
};
</pre><p>
</p></div>
<hr>
<div id="s33">
<div class="heading">ODL Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Modelling branches:
</p><p></p><pre>interface Branch {
  attribute integer branchNo;
  attribute string name;
  attribute Struct Address address;
  attribute float assets;
  ...
  relationship Set&lt;Customer&gt; Customers
    inverse Customer::HomeBranch;
  relationship Set&lt;Account&gt; Accounts
    inverse Account::HeldAt;
};
</pre><p>
</p></div>
<hr>
<div id="s34">
<div class="heading">ODL Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Modelling accounts:
</p><p></p><pre>interface Account {
  attribute integer accountNo; 
  attribute float balance;
  ...
  relationship Branch HeldAt
    inverse Branch:Accounts;
  relationship Set&lt;Customer&gt; Owners
    inverse Customers::Accounts;
  relationship List&lt;Transaction&gt; Transactions
    inverse Transaction::TransAcct;
};
</pre><p>
</p></div>
<hr>
<div id="s35">
<div class="heading">ODL Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Modelling transactions:
</p><p></p><pre>interface Transaction {
  attribute Enum Activity type;
  attribute Date when;
  attribute float amount;
  ...
  relationship Account TransAcct
    inverse Account::Transactions;
  relationship Customer MadeBy
    inverse Customer::Transactions;
};
</pre><p>
</p></div>
<hr>
<div id="s36">
<div class="heading">ODL Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Modelling people <small>(cont)</small>:
</p><p></p><pre>interface Customer : Person {
  attribute int customerNo;
  attribute Date memberFrom;
  ...
  relationship Branch HomeBranch
    inverse Branch::Customers;
  relationship Set&lt;Account&gt; Holds
    inverse Account::HeldBy;
  relationship List&lt;Transaction&gt; Transactions
    inverse Transaction::MadeBy;
};
</pre><p>
</p></div>
<hr>
<div id="s37">
<div class="section">&#8750;  Entity-Relationship (ER) Model</div>
<p>
</p></div>
<hr>
<div id="s38">
<div class="heading"> Entity-Relationship Data Modelling</div>
<p>
The world is viewed as a collection of <font color="#009900">inter-related</font> <font color="#000099">entities</font>.
</p><p>
Goal of ER modelling:
</p><ul>
<li> a notation for describing entities and their relationships
</li><li> abstract/graphical <i>&#8658;</i> used between developers/clients
</li></ul>
Examples of entities:
	&nbsp; John Shepherd, his car, K17, ...
<p>
Example of relation:
	&nbsp; John Shepherd <font color="#0000EE">owns</font> his car
</p></div>
<hr>
<div id="s39">
<div class="heading"> Entity-Relationship Data Modelling <span style="font-size:67%">(cont)</span></div>
<p>
Each entity is described by:
</p><ul>
<li> a collection of attributes that model "properties of interest"
</li></ul>
Examples:
<ul>
<li> Person = (Name, TaxFileNum, DateOfBirth, Citizenship) <br>
	e.g. (John, 2233456789, 12-Feb-1978, Australian)
</li><li> Car = (Make, Model, Year, Colour, Registration)  <br>
	e.g. (Ford, Laser, 1990, Red, JAS-007)
</li></ul>
An <font color="#0000BB">entity set</font> is a collection of entities with similar properties.
</div>
<hr>
<div id="s40">
<div class="heading"> Entity-Relationship Data Modelling <span style="font-size:67%">(cont)</span></div>
<p>
Analogy between ER and OO models:
</p><ul>
<li> an <font color="#009900">entity</font> is like an <font color="#000099">object</font>
</li><li> an <font color="#009900">entity set</font> is like a <font color="#000099">class</font>
</li></ul>
Differences between ER and OO models:
<ul>
<li> entities don't have OIDs to distinguish them
</li><li> ER modelling doesn't consider operations (methods)
</li></ul>
</div>
<hr>
<div id="s41">
<div class="heading"> Entity-Relationship Data Modelling <span style="font-size:67%">(cont)</span></div>
<p>
The entity-relationship model has existed for almost 30 years.
</p><p>
<small>(Original description: Chen, <i>ACM Transactions on Database Systems</i>, 1(1), 1976) </small>
</p><p>
It was never standardised, but has been well-used ...
</p><ul>
<li> so, unfortunately, many variations exist <br>
<small>
(major variations involve relationship cardinalities and OO extensions)
</small>
</li></ul>
In lectures, we use the notation from the KSS book.
<p>
Other texts (EN, GUW, RG) use slightly different notation.
</p><p>
Choose whichever <b>one</b> you like, and use it consistenly.
</p></div>
<hr>
<div id="s42">
<div class="heading"> Entity-Relationship (ER) Diagrams</div>
<p>
<font color="#0000BB">ER diagrams</font> are a graphical tool for data modelling.
</p><p>
An ER diagram consists of:
</p><ul>
<li> a collection of <font color="#0000BB">entity set</font> definitions
</li><li> a collection of <font color="#0000BB">relationship set</font> definitions
</li><li> <font color="#0000BB">attributes</font> associated with entity and relationship sets
</li><li> connections between entity and relationship sets 
</li></ul>
<font color="#CC0000"><b>Warning</b></font>: 99% of the time ...
<ul>
<li> we say "entity" when we mean "entity set"
</li><li> we say "relationship" when we mean "relationship set"
</li></ul>
If we want to refer to a specific entity, we generally say "entity instance".
</div>
<hr>
<div id="s43">
<div class="heading"> Entity-Relationship (ER) Diagrams <span style="font-size:67%">(cont)</span></div>
<p>
Specific visual symbols indicate different ER design elements:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/er-symbols.png]" src="Intro%20to%20Data%20Modelling_files/er-symbols.png">
</div><p>
</p></div>
<hr>
<div id="s44">
<div class="heading"> Entity-Relationship (ER) Diagrams <span style="font-size:67%">(cont)</span></div>
<p>
Example ER diagram <small>(details explained below)</small>:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/er1.png]" src="Intro%20to%20Data%20Modelling_files/er1.png">
</div><p>
</p></div>
<hr>
<div id="s45">
<div class="heading">Attributes</div>
<p>
Each <font color="#0000BB">attribute</font> in an ER diagram:
</p><ul>
<li> has a <font color="#0000BB">name</font> <small>(which appears on the ER diagram)</small>
</li><li> is associated with an entity or relationship set
</li><li> has an underlying <font color="#0000BB">domain</font> (type) 
</li></ul>
Information about attribute domains
<ul>
<li> is not presented on the ER diagram
</li><li> supplied separately via some other formalism (e.g. SQL)
</li></ul>
</div>
<hr>
<div id="s46">
<div class="heading">Attributes <span style="font-size:67%">(cont)</span></div>
<p>
<font color="#0000BB">Simple</font> attributes are drawn from atomic value domains.
</p><p align="right"> 
<small>(cf. ODL's atomic data types)</small>
</p><p>
<font color="#0000BB">Composite</font> attributes consist of a hierarchy of attributes.
</p><p align="right">
<small>(cf. ODL's <large><code>Struct</code></large> types)</small>
</p><p>
<font color="#0000BB">Single-valued</font> attributes have one value for each entity.
</p><p align="right">
<small>(cf. ODL's atomic or <large><code>Struct</code></large> types)</small>
</p><p>
<font color="#0000BB">Multivalued</font> attributes have a set of values for each entity.
</p><p align="right">
<small>(cf. ODL's collection types)</small>
</p></div>
<hr>
<div id="s47">
<div class="heading">Attributes <span style="font-size:67%">(cont)</span></div>
<p>
<font color="#0000BB">Null</font> attributes may contain a distinguished <large><code>null</code></large> value to indicate:
</p><ul>
<li> the attribute is not relevant for a particular entity
	<br><small>(e.g. a customer under 18 would not have a credit card number)</small>
</li><li> the value of the attribute is unknown for a particular entity
	<br><small>(e.g. don't know someone's address or phone number)</small>
</li></ul>
<font color="#0000BB">Derived</font> attributes contain values that are calculated from other attributes.
<p align="right">
<small>(e.g. a person's age may be computed given their date of birth)</small>
</p></div>
<hr>
<div id="s48">
<div class="heading">Attributes <span style="font-size:67%">(cont)</span></div>
<p>
Example of attribute notations:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/erattrs.png]" src="Intro%20to%20Data%20Modelling_files/erattrs.png">
</div><p>
</p></div>
<hr>
<div id="s49">
<div class="heading">Entity Sets</div>
<p>
An <font color="#0000BB">entity set</font> can be viewed as either:
</p><ul>
<li> a set of entities with the same set of attributes <br>
	<small>(<font color="#0000BB">extensional view</font> of entity set)</small>
</li><li> an abstract description of a class of entities <br>
	<small>(<font color="#0000BB">intensional view</font> of entity set)</small>
</li></ul>
Entity sets are not necessarily disjoint.
<p align="right">
<small>
(e.g. a person may be both a <large><code>Customer</code></large> and <large><code>Employee</code></large> of a bank)
</small>
</p><p>
The "raw data" in a database may be viewed as a collection of entity sets.
</p></div>
<hr>
<div id="s50">
<div class="heading">Keys</div>
<p>
ER model does not have a notion of OIDs, so how to distinguish entities?
</p><p>
What if two entities have the same set of attribute values?
</p><p>
They're regarded as the same entity.
</p><p>
So, each entity must have a distinct set of attribute values.
</p><p>
</p><p>
Implications:
</p><ul>
<li> it is not possible to distinguish two separate real-world entities
	if their set of attribute values is identical
</li><li> since it is necessary to distinguish entities, we need to be careful
	about how we choose attributes
</li></ul>
</div>
<hr>
<div id="s51">
<div class="heading">Keys <span style="font-size:67%">(cont)</span></div>
<p>
One approach to ensuring that attribute value sets are distinct:
</p><ul>
<li> add a new attribute to each entity
</li><li> containing a unique value for each entity in the entity set
</li></ul>
<small>
(like re-introducing OIDs, but they only need to be distinct within an entity set)
</small>
<p>
This approach is used commonly in practice e.g.
</p><ul>
<li> social security number (SSN)
	&nbsp; <small>(distinct for all residents of USA)</small>
</li><li> tax file number (TFN)
	&nbsp; <small>(distinct for all Australian taxpayers)</small>
</li><li> UNSW student id
	&nbsp; <small>(distinct for all students at UNSW)</small>
</li></ul>
This is a specific example of the more general notion of a <font color="#0000BB">key</font>.
</div>
<hr>
<div id="s52">
<div class="heading">Keys <span style="font-size:67%">(cont)</span></div>
<p>
A <font color="#0000BB">superkey</font> is
</p><ul>
<li> a set of one or more attributes for an entity set
</li><li> whose values are distinct for all entities in that set
</li></ul>
<small>(i.e. a set of values for superkey attributes
identifies at most one entity in the set)</small>
<p>
The notion of superkey is a property of the whole entity set (extension).
</p><p>
During design, we typically consider keys relative to all possible extensions.
</p></div>
<hr>
<div id="s53">
<div class="heading">Keys <span style="font-size:67%">(cont)</span></div>
<p>
Example (bank customer entities):
</p><p></p><pre>Customer=(custNo,name,address,taxFileNo)
</pre><p>
Definite superkeys:
</p><ul>
<li> any set of attributes involving <large><code>custNo</code></large> or <large><code>taxFileNo</code></large>
</li></ul>
Possible superkeys:
<ul>
<li> <large><code>(name,address)</code></large>
</li></ul>
Unlikely superkeys:
<ul>
<li> <large><code>(name)</code></large>, &nbsp; <large><code>(address)</code></large>
</li></ul>
</div>
<hr>
<div id="s54">
<div class="heading">Keys <span style="font-size:67%">(cont)</span></div>
<p>
The entire set of attributes is always a superkey.
</p><p>
However, most entity sets have several superkeys.
</p><p>
E.g. <large><code>(custNo,name)</code></large>, <large><code>(custNo,address)</code></large>, ... 
</p><p>
It would be convenient to have just one key to identify entities.
</p><p>
Can we identify a minimal set of attributes to be <b>the</b> key?
</p><p>
In examples with artificial identifiers (e.g. SSN), use identifier.
</p><p>
In other examples ... ?
</p></div>
<hr>
<div id="s55">
<div class="heading">Keys <span style="font-size:67%">(cont)</span></div>
<p>
A <font color="#0000BB">candidate key</font> is any superkey such that
</p><ul>
<li> no proper subset of its attributes is also a superkey
</li></ul>
E.g. <large><code>(custNo)</code></large>, <large><code>(taxFileNo)</code></large>, <large><code>(name,address)</code></large>, ...
<p>
A <font color="#0000BB">primary key</font>:
</p><ul>
<li> is a candidate key chosen by the database designer
</li><li> to be used as the identifying mechanism for the entity set
</li></ul>
A <font color="#0000BB">composite key</font> is a key with two or more attributes.
</div>
<hr>
<div id="s56">
<div class="heading">Keys <span style="font-size:67%">(cont)</span></div>
<p>
Keys are indicated in ER diagrams by underlining the key attributes.
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/keys.png]" src="Intro%20to%20Data%20Modelling_files/keys.png">
</div><p>
</p></div>
<hr>
<div id="s57">
<div class="heading">Relationship Sets</div>
<p>
A <font color="#0000BB">relationship</font> is an association among several entities.
</p><p>
E.g. Customer(9876) &nbsp; <font color="#0000BB">is the owner of</font> &nbsp; Account(12345)
</p><p>
A <font color="#0000BB">relationship set</font> is a collection of relationships of the same type.
</p><p>
E.g. the "<font color="#0000BB">is the owner of</font>" relationship set
</p><p>
Customer(9876) &nbsp; <font color="#0000BB">is the owner of</font> &nbsp; Account(12345) <br>
Customer(9426) &nbsp; <font color="#0000BB">is the owner of</font> &nbsp; Account(54321) <br>
Customer(9511) &nbsp; <font color="#0000BB">is the owner of</font> &nbsp; Account(88888) <br>
Customer(9303) &nbsp; <font color="#0000BB">is the owner of</font> &nbsp; Account(78787) <br>
etc. etc.
</p></div>
<hr>
<div id="s58">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
Stated more formally:
</p><ul>
<li> consider <i>n &#8805; 2</i> entity sets <i>E<sub>1</sub>, E<sub>2</sub>, ... E<sub>n</sub></i> &nbsp; <small>(possibly non-distinct)</small>
</li><li> a <font color="#0000BB">relationship</font> is a tuple
	<i>(e<sub>1</sub>, e<sub>2</sub>, ... e<sub>n</sub>)</i>
	<i>&#8712; E<sub>1</sub> × E<sub>2</sub> × ... × E<sub>n</sub></i>
</li><li> a <font color="#0000BB">relationship set</font> <i>R</i> is a subset of
	<i>E<sub>1</sub> × E<sub>2</sub> × ... × E<sub>n</sub></i>
</li><li> entity sets <i>E<sub>1</sub>, E<sub>2</sub>, ... E<sub>n</sub></i>
	<font color="#0000BB">participate</font> in <i>R</i>, &nbsp; <i>R</i> has <font color="#0000BB">degree</font> <i>n</i>
</li></ul>
ER relationships' degree <i>&#8805; 2</i>
</div>
<hr>
<div id="s59">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
In an ER diagram, relationship sets are assigned names.
</p><p>
The <font color="#0000BB">role</font> of each entity in the relationship is usually implicit.
</p><p>
Roles can be explicitly named if needed &nbsp; <small>(in red below)</small>
</p><p>
Examples:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/erroles.png]" src="Intro%20to%20Data%20Modelling_files/erroles.png">
</div><p>
</p></div>
<hr>
<div id="s60">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
<font color="#0000BB">Mapping cardinalities</font> describe the number of entities that a
given entity can be associated with via a relationship.
</p><p>
A binary relationship set <i>R</i> between entity sets <i>A</i> and <i>B</i>
may be (assuming &nbsp; <i>a &#8712; A</i>, &nbsp; <i>b &#8712; B</i>):
</p><p>
</p><p><table cellpadding="6" border="0">
<tbody><tr valign="top">
  <td><nobr><font color="#0000BB">one-to-one</font></nobr></td>
  <td></td><td>each <i>a</i> is associated with at most one <i>b</i> <br>
	each <i>b</i> is associated with at most one <i>a</i>
  </td>
</tr>
<tr valign="top">
  <td><nobr><font color="#0000BB">one-to-many</font></nobr></td>
  <td></td><td>each <i>a</i> is associated with zero or more <i>b</i> <br>
	each <i>b</i> is associated with at most one <i>a</i>
  </td>
</tr>
<tr valign="top">
  <td><nobr><font color="#0000BB">many-to-one</font></nobr></td>
  <td></td><td>each <i>a</i> is associated with at most one <i>b</i> <br>
	each <i>b</i> is associated with zero or more <i>a</i>
  </td>
</tr>
<tr valign="top">
  <td><nobr><font color="#0000BB">many-to-many</font></nobr></td>
  <td></td><td>each <i>a</i> is associated with zero or more <i>b</i> <br>
	each <i>b</i> is associated with zero or more <i>a</i>
  </td>
</tr>
</tbody></table></p><p>
</p></div>
<hr>
<div id="s61">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
Examples:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/cardinal.png]" src="Intro%20to%20Data%20Modelling_files/cardinal.png">
</div><p>
</p><p>
An arrow from <i>A</i> to <i>B</i> indicates that there is at most one 
<i>b &#8712; B</i> for each <i>a &#8712; A</i>.
</p></div>
<hr>
<div id="s62">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
An alternative notation makes cardinalities explicit:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/cardinal2.png]" src="Intro%20to%20Data%20Modelling_files/cardinal2.png">
</div><p>
</p></div>
<hr>
<div id="s63">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
<font color="#0000BB">Level of participation</font> is another type of relationship constraint.
</p><p>
Participation in relationship set <i>R</i> by entity set <i>A</i> may be:
</p><p>
</p><p><table cellpadding="6" border="0">
<tbody><tr valign="top">
  <td><nobr><font color="#0000BB">total</font></nobr></td>
  <td></td><td>every <i>a &#8712; A</i> participates in <i>&#8805;1</i> relationship in <i>R</i>
  </td>
</tr>
<tr valign="top">
  <td><nobr><font color="#0000BB">partial</font></nobr></td>
  <td></td><td>only some <i>a &#8712; A</i> participate in relationships in <i>R</i>
  </td>
</tr>
</tbody></table></p><p>
</p><p>
Example:
</p><ul>
<li> every bank loan is associated with at least one customer
</li><li> not every customer in a bank has a loan
</li></ul>
</div>
<hr>
<div id="s64">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
In ER diagrams:
</p><ul>
<li> partial participation is denoted by single lines
</li><li> total participation is denoted by double lines (or <b>thick</b> lines)
</li></ul>
Example:
<p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/particip.png]" src="Intro%20to%20Data%20Modelling_files/particip.png">
</div><p>
</p></div>
<hr>
<div id="s65">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
In the x-to-one and one-to-x relationships above, we noted that e.g.
</p><p>
</p><div class="center">
 "Each <i>a &#8712; A</i> is associated with <font color="#009900">at most one</font> <i>b &#8712; B</i>"
</div>
<p>
Sometimes, we require that there <font color="#009900">must</font> be <font color="#009900">exactly one</font> associated entity.
</p><p>
<small>E.g. a manager must have a branch to manage, but a branch may (temporarily) have no manager.</small>
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/refinteg.png]" src="Intro%20to%20Data%20Modelling_files/refinteg.png">
</div><p>
</p><p>
This is known as a <font color="#0000BB">referential integrity constraint</font>.
</p></div>
<hr>
<div id="s66">
<div class="heading">Relationship Sets <span style="font-size:67%">(cont)</span></div>
<p>
In some cases, a relationship needs associated attributes.
</p><p>
Example:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/relattr.png]" src="Intro%20to%20Data%20Modelling_files/relattr.png">
</div><p>
</p><p>
<small>(Price and quantity are related to products in a particular store)</small>
</p></div>
<hr>
<div id="s67">
<div class="heading">Weak Entity Sets</div>
<p>
<font color="#0000BB">Weak entities</font> exist only because of association with other entities.
</p><p>
Examples:
</p><ul>
<li> family of employees in a company <br>
	<small>(would not be interested in the family once the employee leaves)</small>
</li><li> payments on bank loans <br>
	<small>(if there were no loans, no need to keep information about payments)</small>
</li></ul>
Weak entities
<ul>
<li> do not have a primary key (or any superkey)
</li><li> have a subset of attributes that form a <font color="#0000BB">discriminator</font>
</li><li> need to be considered in conjunction with strong entities
</li></ul>
</div>
<hr>
<div id="s68">
<div class="heading">Weak Entity Sets <span style="font-size:67%">(cont)</span></div>
<p>
While weak entities do not have a primary key
</p><ul>
<li> they have a subset of attributes that form a <font color="#0000BB">discriminator</font>
</li></ul>
We can can form a primary key by taking a combination of
<ul>
<li> the set of values for the discriminator
</li><li> the primary key of the associated strong entity
</li></ul>
Example:
<ul>
<li> Ian's son called Tim is different to Paul's son called Tim
</li></ul>
</div>
<hr>
<div id="s69">
<div class="heading">Weak Entity Sets <span style="font-size:67%">(cont)</span></div>
<p>
E.g. employees/family, with name as a "key" ...
</p><p></p><pre><small>
Employees = {Anne, John, Liam}
Families  = {Alice, Bob, David, Jane, Mary, <font color="#009900">Tim</font>, <font color="#0000EE">Tim</font>}
John's family = {Alice, Bob, Mary, <font color="#009900">Tim</font>}
Anne's family = {David, <font color="#0000EE">Tim</font>}
Liam's family = {Jane}
</small></pre><p>
</p><p>
E.g. loans/payments, with loan ids and payment sequence ...
</p><p></p><pre><small>
Loan        = {(1234,John,100000),(4321,Arun,70000)}
Payments    = {(1,1500),(2,1500),(3,1500),(1,750),(2,1500)}
John's payments = {(<font color="#CC0000">1</font>,1500),(<font color="#CC0000">2</font>,1500),(<font color="#CC0000">3</font>,1500)}
Arun's payments = {(<font color="#CC0000">1</font>,750),(<font color="#CC0000">2</font>,1500)}
</small></pre><p>
</p></div>
<hr>
<div id="s70">
<div class="heading">Weak Entity Sets <span style="font-size:67%">(cont)</span></div>
<p>
In ER diagrams:
</p><ul>
<li> weak entities are denoted by double-boxes
</li><li> strong/weak entity relationships are denoted by double-diamonds
</li><li> discriminators are denoted by dotted underline
</li></ul>
Example:
<p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/weakent.png]" src="Intro%20to%20Data%20Modelling_files/weakent.png">
</div><p>
</p></div>
<hr>
<div id="s71">
<div class="heading">Subclasses and Inheritance</div>
<p>
Extensions to the "standard" ER model include inheritance.
</p><p>
A <font color="#0000BB">subclass</font> of an entity set <i>A</i> is a set of entities:
</p><ul>
<li> with all of the attributes found in entities of <i>A</i>
</li><li> with (generally) additional attributes of its own
</li><li> that is involved in all of the relationships involving <i>A</i>
</li><li> may be involved in additional relationships on its own
</li></ul>
In other words, the subclass <font color="#0000BB">inherits</font> the attributes and relationships of <i>A</i>.
<p>
<small>
Some texts use the term <font color="#0000BB">lower level entity set</font> as synonym for "subclass".
</small>
</p></div>
<hr>
<div id="s72">
<div class="heading">Subclasses and Inheritance <span style="font-size:67%">(cont)</span></div>
<p>
If an entity set has multiple subclasses, they may be:
</p><ul>
<li> <font color="#0000BB">disjoint</font> - an entity belongs to at most one subclass
</li><li> <font color="#0000BB">overlapping</font> - an entity may belong to several subclasses
</li></ul>
An orthogonal property is the <font color="#0000BB">completeness contraint</font>:
<ul>
<li> <font color="#0000BB">total</font> - all entities must belong to at least one subclass
</li><li> <font color="#0000BB">partial</font> - some entities may belong to no subclass
</li></ul>
ER diagrams use the following notation:
<ul>
<li> subclass denoted by <large><code>ISA</code></large> or subset symbol on line
</li><li> disjoint/overlapping = the letter <large><code>'d'</code></large>/<large><code>'o'</code></large> in a circle
</li><li> total/partial completeness = double(thick)/normal line
</li></ul>
</div>
<hr>
<div id="s73">
<div class="heading">Subclasses and Inheritance <span style="font-size:67%">(cont)</span></div>
<p>
Example of subclasses:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/inherit.png]" src="Intro%20to%20Data%20Modelling_files/inherit.png">
</div><p>
</p></div>
<hr>
<div id="s74">
<div class="heading">Design Using the ER Model</div>
<p>
The ER model provides a powerful, general set of data modelling tools.
</p><p>
Some considerations in using these tools to create a design:
</p><ul>
<li> should an "object" be represented by an attribute or entity?
</li><li> is a "concept" best expressed as an entity or relationship?
</li><li> should we use <i>n</i>-way relationship or several 2-way relationships?
</li><li> is an "object" a strong or weak entity?
</li><li> are there subclasses/superclasses within the entities?
</li></ul>
</div>
<hr>
<div id="s75">
<div class="heading">Design Using the ER Model <span style="font-size:67%">(cont)</span></div>
<p>
Attribute vs Entity Example (v1)
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/attr-ent1.png]" src="Intro%20to%20Data%20Modelling_files/attr-ent1.png">
</div><p>
</p><p>
<small>Employees can work for several departments, but cannot work for the same department over two different time periods.</small>
</p></div>
<hr>
<div id="s76">
<div class="heading">Design Using the ER Model <span style="font-size:67%">(cont)</span></div>
<p>
Attribute vs Entity Example (v2)
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/attr-ent2.png]" src="Intro%20to%20Data%20Modelling_files/attr-ent2.png">
</div><p>
</p><p>
<small>Employees can work for the same department over two different time periods.</small>
</p></div>
<hr>
<div id="s77">
<div class="heading">Design Using the ER Model <span style="font-size:67%">(cont)</span></div>
<p>
Design is initially somewhat fluid; no single "correct" answer.
</p><p>
Some design refinements:
</p><ul>
<li> an attribute might be used in several entities <br>
	 <i>&#8594;</i> attribute becomes new entity+relationships
</li><li> entity used via simple relationship to one other entity <br>
	<i>&#8594;</i> entity becomes attribute of other entity
</li></ul>
The texts discuss design issues relatively briefly.
<p>
Other texts discuss design in more detail
	&nbsp; <small>(e.g. Conolly/Begg)</small>
</p><p>
To some extent, it's a case of "learn by practising"
</p></div>
<hr>
<div id="s78">
<div class="heading">ER Model for Bank</div>
<p>
Kinds of information in model:
</p><ul>
<li> attributes: name, address, date, dollar amount, ...
</li><li> entities: customer, account, branch, transaction, ...
</li><li> relationships: holds, worksAt, manages, ...
</li></ul>
How to give a model?
<ul>
<li> detailed description of attribute domains
</li><li> detailed description of entities <small>(maybe SQL notation)</small>
</li><li> detailed description of relationships <small>(especially constraints)</small>
</li><li> ER diagram showing how it all "fits together"
</li></ul>
</div>
<hr>
<div id="s79">
<div class="heading">ER Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
ER diagrams are typically too large to fit on a single screen. <br>
<small>(or a single sheet of paper, if printing)</small>
</p><p>
One commonly used strategy:
</p><ul>
<li> define entity sets separately, showing attributes
</li><li> if relationships have attributes, treat similarly
</li><li> combine entitities and relationships on a single diagram <br>
	<small>(without attributes)</small>
</li><li> if very large design, may use several linked diagrams
</li></ul>
</div>
<hr>
<div id="s80">
<div class="heading">ER Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Modelling people:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/bank1.png]" src="Intro%20to%20Data%20Modelling_files/bank1.png">
</div><p>
</p></div>
<hr>
<div id="s81">
<div class="heading">ER Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Modelling people <small>(cont)</small>:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/bank2.png]" src="Intro%20to%20Data%20Modelling_files/bank2.png">
</div><p>
</p></div>
<hr>
<div id="s82">
<div class="heading">ER Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Modelling branches, accounts, transactions:
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/bank3.png]" src="Intro%20to%20Data%20Modelling_files/bank3.png">
</div><p>
</p></div>
<hr>
<div id="s83">
<div class="heading">ER Model for Bank <span style="font-size:67%">(cont)</span></div>
<p>
Putting it all together with relationships ...
</p><p>
</p><p></p><div align="center">
<img alt="[Diagram:Pic/er-rel/bank4.png]" src="Intro%20to%20Data%20Modelling_files/bank4.png">
</div><p>
</p></div>
<hr>
<div id="s84">
<div class="heading">Limitations of ER Model</div>
<p>
There are some design aspects that ER does not deal with:
</p><ul>
<li> attribute domains <br>
	&nbsp; <small>e.g. should phone "number" be represented by number or string?</small>
</li><li> computational dependencies <br>
	&nbsp; <small>e.g. employee's salary is determined by department and level</small>
</li><li> general constraints <br>
	&nbsp; <small>e.g. manager's budget is less than 10% of the combined budget of all departments they manage</small>
</li></ul>
Some of these are handled later in the relational model.
</div>
<hr>
<div id="s85">
<div class="heading">Summary</div>
<p>
<font color="#0000BB">Conceptual design</font> (data modelling) follows requirements analysis.
</p><p>
ER model is popular for doing coneptual design
</p><ul>
<li> has good expressive power, close to how we think
</li></ul>
Basic constructs: <font color="#0000BB">entities, relationships, attributes</font>
<p>
Additional constructs: <font color="#0000BB">weak entities, ISA hierarchies</font>
</p><p>
Many notational variants of ER exist <br>
<small>(especially in the expression of constraints on relationships)</small>
</p></div>
<p></p><hr><p>
<span style="font-size:11px;color: grey;">Produced: 13 Sep 2020</span>
 <script src="Intro%20to%20Data%20Modelling_files/prism.js"></script>   
 <script src="Intro%20to%20Data%20Modelling_files/sg.js"></script>   


</p></body></html>